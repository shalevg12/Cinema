{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/macbook/cinema/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom'; //Hoc\n\nimport WithAuth from './Hoc/withAuth'; // layouyts\n\nimport MainLayot from './Layouts/MainLayout';\nimport HomepageLayout from './Layouts/HomepageLayout'; //\n\nimport './default.scss';\nimport Homepage from './pages/Homepage';\nimport Registraiton from './pages/Registration';\nimport Login from './pages/Login';\nimport { auth, handleUserProfile } from './Firebase/utils';\nimport { setCurrentUser } from './Redux/User/user.actions';\nimport { connect } from 'react-redux';\nimport userTypes from './Redux/User/user.types';\nimport Dashboard from './pages/Dashboard';\n\nconst App = props => {\n  _s();\n\n  const {\n    setCurrentUser,\n    currentUser\n  } = props;\n  useEffect(() => {\n    const authListener = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await handleUserProfile(userAuth);\n        userRef.onSnapshot(snapshot => {\n          setCurrentUser({\n            id: snapshot.id,\n            ...snapshot.data()\n          });\n        });\n      }\n\n      setCurrentUser(userAuth);\n    });\n    return () => {\n      authListener();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        render: () => /*#__PURE__*/_jsxDEV(HomepageLayout, {\n          children: /*#__PURE__*/_jsxDEV(Homepage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/registration\",\n        render: () => /*#__PURE__*/_jsxDEV(MainLayot, {\n          children: /*#__PURE__*/_jsxDEV(Registraiton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        render: () => /*#__PURE__*/_jsxDEV(MainLayot, {\n          children: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/dashboard\",\n        render: () => /*#__PURE__*/_jsxDEV(WithAuth, {\n          children: /*#__PURE__*/_jsxDEV(MainLayot, {\n            children: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = App;\n\nconst mapStateToProps = ({\n  user\n}) => ({\n  currentUser: user.currentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentUser: user => dispatch(setCurrentUser(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/macbook/cinema/src/App.js"],"names":["React","useEffect","Switch","Route","Redirect","WithAuth","MainLayot","HomepageLayout","Homepage","Registraiton","Login","auth","handleUserProfile","setCurrentUser","connect","userTypes","Dashboard","App","props","currentUser","authListener","onAuthStateChanged","userAuth","userRef","onSnapshot","snapshot","id","data","mapStateToProps","user","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport {Switch, Route, Redirect } from 'react-router-dom';\n\n\n//Hoc\nimport WithAuth from './Hoc/withAuth';\n\n// layouyts\n\nimport MainLayot from './Layouts/MainLayout';\nimport HomepageLayout from './Layouts/HomepageLayout';\n\n//\n\nimport './default.scss';\nimport Homepage from './pages/Homepage';\nimport Registraiton from './pages/Registration';\nimport Login from './pages/Login';\nimport { auth, handleUserProfile } from './Firebase/utils';\nimport { setCurrentUser } from './Redux/User/user.actions';\nimport { connect } from 'react-redux';\nimport userTypes from './Redux/User/user.types';\n\nimport Dashboard from './pages/Dashboard';\n\n\n\nconst App = props => {\n  const { setCurrentUser, currentUser } = props;\n\n\n  useEffect(() => {\n\n    const authListener = auth.onAuthStateChanged(async userAuth => {\n      if(userAuth) {\n        const userRef = await handleUserProfile(userAuth);\n        userRef.onSnapshot(snapshot =>{\n          setCurrentUser({\n            id: snapshot.id,\n            ...snapshot.data()\n          });\n        })\n      }\n\n      setCurrentUser(userAuth);\n    });\n\n\n    return () => {\n      authListener();\n    };\n\n  }, []);\n\n  return (\n    <div className=\"App\">\n          <Switch>\n            <Route exact path=\"/\" render={() => (\n              <HomepageLayout>\n                <Homepage/>\n              </HomepageLayout>\n            )}/>\n            <Route path=\"/registration\" render={() =>  (\n              <MainLayot>\n                <Registraiton/>\n              </MainLayot>\n            )}/>\n              <Route path=\"/login\" render={() => (\n                <MainLayot>\n                  <Login/>\n                </MainLayot>\n            )}/>\n              <Route path=\"/dashboard\" render={() => (\n                <WithAuth>\n                  <MainLayot>\n                    <Dashboard/>\n                  </MainLayot>\n                </WithAuth>\n            )}/>\n          </Switch>\n    </div>\n  );\n  \n};\n\nconst mapStateToProps = ({ user }) => ({\n  currentUser: user.currentUser\n});\n\nconst mapDispatchToProps =  dispatch => ({\n  setCurrentUser: user => dispatch(setCurrentUser(user))\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);"]},"metadata":{},"sourceType":"module"}