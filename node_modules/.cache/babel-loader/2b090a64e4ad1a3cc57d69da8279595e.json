{"ast":null,"code":"import ordersTypes from './orders.types';\nimport { takeLatest, put, all, call } from 'redux-saga/effects';\nimport { handleSaveOrder, handleGetUserOrderHistory, handleGetOrder } from './orders.helpers';\nimport { auth } from './../../firebase/utils';\nimport { clearCart } from './../Cart/cart.actions';\nimport { setUserOrderHistory, setOrderDetails } from './orders.actions';\nexport function* getUserOrderHistory({\n  payload\n}) {\n  try {\n    const history = yield handleGetUserOrderHistory(payload);\n    yield put(setUserOrderHistory(history));\n  } catch (err) {\n    console.log(err);\n  }\n}\nexport function* onGetUserOrderHistoryStart() {\n  yield takeLatest(ordersTypes.GET_USER_ORDER_HISTORY_START, getUserOrderHistory);\n}\n;\nexport function* saveOrder({\n  payload\n}) {\n  try {\n    const timestamps = new Date();\n    yield handleSaveOrder({ ...payload,\n      orderUserID: auth.currentUser.uid,\n      orderCreatedDate: timestamps\n    });\n    yield put(clearCart());\n  } catch (err) {// console.log(err);\n  }\n}\n;\nexport function* onSaveOrderHistoryStart() {\n  yield takeLatest(ordersTypes.SAVE_ORDER_HISTORY_START, saveOrder);\n}\n;\nexport function* getOrderDetails({\n  payload\n}) {\n  try {\n    const order = yield handleGetOrder(payload);\n    console.log(order);\n    yield put(setOrderDetails(order));\n  } catch (err) {// console.log(err);\n  }\n}\nexport function* onGetOrderDetailsStart() {\n  yield takeLatest(ordersTypes.GET_ORDER_DETAILS_START, getOrderDetails);\n}\n;\nexport default function* ordersSagas() {\n  yield all([call(onSaveOrderHistoryStart), call(onGetUserOrderHistoryStart), call(onGetOrderDetailsStart)]);\n}","map":{"version":3,"sources":["/Users/macbook/Downloads/NewCinema/src/redux/Orders/orders.sagas.js"],"names":["ordersTypes","takeLatest","put","all","call","handleSaveOrder","handleGetUserOrderHistory","handleGetOrder","auth","clearCart","setUserOrderHistory","setOrderDetails","getUserOrderHistory","payload","history","err","console","log","onGetUserOrderHistoryStart","GET_USER_ORDER_HISTORY_START","saveOrder","timestamps","Date","orderUserID","currentUser","uid","orderCreatedDate","onSaveOrderHistoryStart","SAVE_ORDER_HISTORY_START","getOrderDetails","order","onGetOrderDetailsStart","GET_ORDER_DETAILS_START","ordersSagas"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,gBAAxB;AACA,SAASC,UAAT,EAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,QAA2C,oBAA3C;AACA,SAASC,eAAT,EAA0BC,yBAA1B,EACEC,cADF,QACwB,kBADxB;AAEA,SAASC,IAAT,QAAqB,wBAArB;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,mBAAT,EAA8BC,eAA9B,QAAqD,kBAArD;AAEA,OAAO,UAAUC,mBAAV,CAA8B;AAAEC,EAAAA;AAAF,CAA9B,EAA2C;AAChD,MAAI;AACF,UAAMC,OAAO,GAAG,MAAMR,yBAAyB,CAACO,OAAD,CAA/C;AACA,UAAMX,GAAG,CACPQ,mBAAmB,CAACI,OAAD,CADZ,CAAT;AAID,GAND,CAME,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF;AAED,OAAO,UAAUG,0BAAV,GAAuC;AAC5C,QAAMjB,UAAU,CAACD,WAAW,CAACmB,4BAAb,EAA2CP,mBAA3C,CAAhB;AACD;AAAA;AAED,OAAO,UAAUQ,SAAV,CAAoB;AAAEP,EAAAA;AAAF,CAApB,EAAiC;AACtC,MAAI;AACF,UAAMQ,UAAU,GAAG,IAAIC,IAAJ,EAAnB;AACA,UAAMjB,eAAe,CAAC,EACpB,GAAGQ,OADiB;AAEpBU,MAAAA,WAAW,EAAEf,IAAI,CAACgB,WAAL,CAAiBC,GAFV;AAGpBC,MAAAA,gBAAgB,EAAEL;AAHE,KAAD,CAArB;AAKA,UAAMnB,GAAG,CACPO,SAAS,EADF,CAAT;AAID,GAXD,CAWE,OAAOM,GAAP,EAAY,CACZ;AACD;AACF;AAAA;AAED,OAAO,UAAUY,uBAAV,GAAoC;AACzC,QAAM1B,UAAU,CAACD,WAAW,CAAC4B,wBAAb,EAAuCR,SAAvC,CAAhB;AACD;AAAA;AAED,OAAO,UAAUS,eAAV,CAA0B;AAAEhB,EAAAA;AAAF,CAA1B,EAAuC;AAC5C,MAAI;AACF,UAAMiB,KAAK,GAAG,MAAMvB,cAAc,CAACM,OAAD,CAAlC;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYa,KAAZ;AACA,UAAM5B,GAAG,CACPS,eAAe,CAACmB,KAAD,CADR,CAAT;AAID,GAPD,CAOE,OAAOf,GAAP,EAAY,CACZ;AACD;AACF;AAED,OAAO,UAAUgB,sBAAV,GAAmC;AACxC,QAAM9B,UAAU,CAACD,WAAW,CAACgC,uBAAb,EAAsCH,eAAtC,CAAhB;AACD;AAAA;AAED,eAAe,UAAUI,WAAV,GAAwB;AACrC,QAAM9B,GAAG,CAAC,CACRC,IAAI,CAACuB,uBAAD,CADI,EAERvB,IAAI,CAACc,0BAAD,CAFI,EAGRd,IAAI,CAAC2B,sBAAD,CAHI,CAAD,CAAT;AAKD","sourcesContent":["import ordersTypes from './orders.types';\nimport { takeLatest, put, all, call } from 'redux-saga/effects';\nimport { handleSaveOrder, handleGetUserOrderHistory,\n  handleGetOrder } from './orders.helpers';\nimport { auth } from './../../firebase/utils';\nimport { clearCart } from './../Cart/cart.actions';\nimport { setUserOrderHistory, setOrderDetails } from './orders.actions';\n\nexport function* getUserOrderHistory({ payload }) {\n  try {\n    const history = yield handleGetUserOrderHistory(payload);\n    yield put(\n      setUserOrderHistory(history)\n    );\n\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function* onGetUserOrderHistoryStart() {\n  yield takeLatest(ordersTypes.GET_USER_ORDER_HISTORY_START, getUserOrderHistory);\n};\n\nexport function* saveOrder({ payload }) {\n  try {\n    const timestamps = new Date();\n    yield handleSaveOrder({\n      ...payload,\n      orderUserID: auth.currentUser.uid,\n      orderCreatedDate: timestamps\n    });\n    yield put(\n      clearCart()\n    )\n\n  } catch (err) {\n    // console.log(err);\n  }\n};\n\nexport function* onSaveOrderHistoryStart() {\n  yield takeLatest(ordersTypes.SAVE_ORDER_HISTORY_START, saveOrder);\n};\n\nexport function* getOrderDetails({ payload }) {\n  try {\n    const order = yield handleGetOrder(payload);\n    console.log(order)\n    yield put(\n      setOrderDetails(order)\n    )\n\n  } catch (err) {\n    // console.log(err);\n  }\n}\n\nexport function* onGetOrderDetailsStart() {\n  yield takeLatest(ordersTypes.GET_ORDER_DETAILS_START, getOrderDetails);\n};\n\nexport default function* ordersSagas() {\n  yield all([\n    call(onSaveOrderHistoryStart),\n    call(onGetUserOrderHistoryStart),\n    call(onGetOrderDetailsStart),\n  ])\n}\n"]},"metadata":{},"sourceType":"module"}