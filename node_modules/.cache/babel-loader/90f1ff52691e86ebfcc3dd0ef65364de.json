{"ast":null,"code":"import { auth } from './../../firebase/utils';\nimport { takeLatest, put, all, call } from 'redux-saga/effects';\nimport { setProducts, setProduct, fetchProductsStart } from './products.actions';\nimport { handleAddProduct, handleFetchProducts, handleFetchProduct, handleDeleteProduct } from './products.helpers';\nimport productsTypes from './products.types';\nexport function* addProduct({\n  payload\n}) {\n  try {\n    const timestamp = new Date();\n    yield handleAddProduct({ ...payload,\n      productAdminUserUID: auth.currentUser.uid,\n      createdDate: timestamp\n    });\n    yield put(fetchProductsStart());\n  } catch (err) {// console.log(err);\n  }\n}\nexport function* onAddProductStart() {\n  yield takeLatest(productsTypes.ADD_NEW_PRODUCT_START, addProduct);\n}\nexport function* fetchProducts({\n  payload\n}) {\n  try {\n    const products = yield handleFetchProducts(payload);\n    yield put(setProducts(products));\n  } catch (err) {// console.log(err);\n  }\n}\nexport function* onFetchProductsStart() {\n  yield takeLatest(productsTypes.FETCH_PRODUCTS_START, fetchProducts);\n}\nexport function* deleteProduct({\n  payload\n}) {\n  try {\n    yield handleDeleteProduct(payload);\n    yield put(fetchProductsStart());\n  } catch (err) {// console.log(err);\n  }\n}\nexport function* onDeleteProductStart() {\n  yield takeLatest(productsTypes.DELETE_PRODUCT_START, deleteProduct);\n}\nexport function* fetchProduct({\n  payload\n}) {\n  try {\n    const product = yield handleFetchProduct(payload);\n    yield put(setProduct(product));\n  } catch (err) {// console.log(err);\n  }\n}\nexport function* onFetchProductStart() {\n  yield takeLatest(productsTypes.FETCH_PRODUCT_START, fetchProduct);\n}\nexport default function* productsSagas() {\n  yield all([call(onAddProductStart), call(onFetchProductsStart), call(onDeleteProductStart), call(onFetchProductStart)]);\n}","map":{"version":3,"sources":["/Users/macbook/Downloads/NewCinema/src/redux/Products/products.sagas.js"],"names":["auth","takeLatest","put","all","call","setProducts","setProduct","fetchProductsStart","handleAddProduct","handleFetchProducts","handleFetchProduct","handleDeleteProduct","productsTypes","addProduct","payload","timestamp","Date","productAdminUserUID","currentUser","uid","createdDate","err","onAddProductStart","ADD_NEW_PRODUCT_START","fetchProducts","products","onFetchProductsStart","FETCH_PRODUCTS_START","deleteProduct","onDeleteProductStart","DELETE_PRODUCT_START","fetchProduct","product","onFetchProductStart","FETCH_PRODUCT_START","productsSagas"],"mappings":"AAAA,SAASA,IAAT,QAAqB,wBAArB;AACA,SAASC,UAAT,EAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,QAA2C,oBAA3C;AACA,SAASC,WAAT,EAAsBC,UAAtB,EAAkCC,kBAAlC,QAA4D,oBAA5D;AACA,SAASC,gBAAT,EAA2BC,mBAA3B,EACEC,kBADF,EACsBC,mBADtB,QACiD,oBADjD;AAEA,OAAOC,aAAP,MAA0B,kBAA1B;AAEA,OAAO,UAAUC,UAAV,CAAqB;AAAEC,EAAAA;AAAF,CAArB,EAAkC;AAEvC,MAAI;AACF,UAAMC,SAAS,GAAG,IAAIC,IAAJ,EAAlB;AACA,UAAMR,gBAAgB,CAAC,EACrB,GAAGM,OADkB;AAErBG,MAAAA,mBAAmB,EAAEjB,IAAI,CAACkB,WAAL,CAAiBC,GAFjB;AAGrBC,MAAAA,WAAW,EAAEL;AAHQ,KAAD,CAAtB;AAKA,UAAMb,GAAG,CACPK,kBAAkB,EADX,CAAT;AAKD,GAZD,CAYE,OAAOc,GAAP,EAAY,CACZ;AACD;AAEF;AAED,OAAO,UAAUC,iBAAV,GAA8B;AACnC,QAAMrB,UAAU,CAACW,aAAa,CAACW,qBAAf,EAAsCV,UAAtC,CAAhB;AACD;AAED,OAAO,UAAUW,aAAV,CAAwB;AAAEV,EAAAA;AAAF,CAAxB,EAAqC;AAC1C,MAAI;AACF,UAAMW,QAAQ,GAAG,MAAMhB,mBAAmB,CAACK,OAAD,CAA1C;AACA,UAAMZ,GAAG,CACPG,WAAW,CAACoB,QAAD,CADJ,CAAT;AAID,GAND,CAME,OAAOJ,GAAP,EAAY,CACZ;AACD;AACF;AAED,OAAO,UAAUK,oBAAV,GAAiC;AACtC,QAAMzB,UAAU,CAACW,aAAa,CAACe,oBAAf,EAAqCH,aAArC,CAAhB;AACD;AAED,OAAO,UAAUI,aAAV,CAAwB;AAAEd,EAAAA;AAAF,CAAxB,EAAqC;AAC1C,MAAI;AACF,UAAMH,mBAAmB,CAACG,OAAD,CAAzB;AACA,UAAMZ,GAAG,CACPK,kBAAkB,EADX,CAAT;AAID,GAND,CAME,OAAOc,GAAP,EAAY,CACZ;AACD;AACF;AAED,OAAO,UAAUQ,oBAAV,GAAiC;AACtC,QAAM5B,UAAU,CAACW,aAAa,CAACkB,oBAAf,EAAqCF,aAArC,CAAhB;AACD;AAED,OAAO,UAAUG,YAAV,CAAuB;AAAEjB,EAAAA;AAAF,CAAvB,EAAoC;AACzC,MAAI;AACF,UAAMkB,OAAO,GAAG,MAAMtB,kBAAkB,CAACI,OAAD,CAAxC;AACA,UAAMZ,GAAG,CACPI,UAAU,CAAC0B,OAAD,CADH,CAAT;AAID,GAND,CAME,OAAOX,GAAP,EAAY,CACZ;AACD;AACF;AAED,OAAO,UAAUY,mBAAV,GAAgC;AACrC,QAAMhC,UAAU,CAACW,aAAa,CAACsB,mBAAf,EAAoCH,YAApC,CAAhB;AACD;AAED,eAAe,UAAUI,aAAV,GAA0B;AACvC,QAAMhC,GAAG,CAAC,CACRC,IAAI,CAACkB,iBAAD,CADI,EAERlB,IAAI,CAACsB,oBAAD,CAFI,EAGRtB,IAAI,CAACyB,oBAAD,CAHI,EAIRzB,IAAI,CAAC6B,mBAAD,CAJI,CAAD,CAAT;AAMD","sourcesContent":["import { auth } from './../../firebase/utils';\nimport { takeLatest, put, all, call } from 'redux-saga/effects';\nimport { setProducts, setProduct, fetchProductsStart } from './products.actions';\nimport { handleAddProduct, handleFetchProducts,\n  handleFetchProduct, handleDeleteProduct } from './products.helpers';\nimport productsTypes from './products.types';\n\nexport function* addProduct({ payload }) {\n\n  try {\n    const timestamp = new Date();\n    yield handleAddProduct({\n      ...payload,\n      productAdminUserUID: auth.currentUser.uid,\n      createdDate: timestamp\n    });\n    yield put(\n      fetchProductsStart()\n    );\n\n\n  } catch (err) {\n    // console.log(err);\n  }\n\n}\n\nexport function* onAddProductStart() {\n  yield takeLatest(productsTypes.ADD_NEW_PRODUCT_START, addProduct);\n}\n\nexport function* fetchProducts({ payload }) {\n  try {\n    const products = yield handleFetchProducts(payload);\n    yield put(\n      setProducts(products)\n    );\n\n  } catch (err) {\n    // console.log(err);\n  }\n}\n\nexport function* onFetchProductsStart() {\n  yield takeLatest(productsTypes.FETCH_PRODUCTS_START, fetchProducts);\n}\n\nexport function* deleteProduct({ payload }) {\n  try {\n    yield handleDeleteProduct(payload);\n    yield put (\n      fetchProductsStart()\n    );\n\n  } catch (err) {\n    // console.log(err);\n  }\n}\n\nexport function* onDeleteProductStart() {\n  yield takeLatest(productsTypes.DELETE_PRODUCT_START, deleteProduct);\n}\n\nexport function* fetchProduct({ payload }) {\n  try {\n    const product = yield handleFetchProduct(payload);\n    yield put(\n      setProduct(product)\n    );\n\n  } catch (err) {\n    // console.log(err);\n  }\n}\n\nexport function* onFetchProductStart() {\n  yield takeLatest(productsTypes.FETCH_PRODUCT_START, fetchProduct);\n}\n\nexport default function* productsSagas() {\n  yield all([\n    call(onAddProductStart),\n    call(onFetchProductsStart),\n    call(onDeleteProductStart),\n    call(onFetchProductStart),\n  ])\n}"]},"metadata":{},"sourceType":"module"}