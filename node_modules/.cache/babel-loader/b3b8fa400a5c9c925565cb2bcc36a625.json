{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/macbook/Downloads/NewCinema/src/pages/Admin/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addProductStart, fetchProductsStart, deleteProductStart } from './../../redux/Products/products.actions';\nimport Modal from './../../components/Modal';\nimport FormInput from './../../components/forms/FormInput';\nimport FormSelect from './../../components/forms/FormSelect';\nimport Button from './../../components/forms/Button';\nimport LoadMore from './../../components/LoadMore';\nimport CKEditor from 'ckeditor4-react';\nimport './styles.scss';\n\nconst mapState = ({\n  productsData\n}) => ({\n  products: productsData.products\n});\n\nconst Admin = props => {\n  _s();\n\n  const {\n    products\n  } = useSelector(mapState);\n  const dispatch = useDispatch();\n  const [hideModal, setHideModal] = useState(true);\n  const [productCategory, setProductCategory] = useState('Horror');\n  const [productName, setProductName] = useState('');\n  const [productThumbnail, setProductThumbnail] = useState('');\n  const [productPrice, setProductPrice] = useState(0);\n  const [productTime, setProductTime] = useState(0);\n  const [productAge, setProductAge] = useState(0);\n  const [productRating, setProductRating] = useState(0);\n  const [productDate, setProductDate] = useState(0);\n  const [productHall, setProductHall] = useState(0);\n  const [productDesc, setProductDesc] = useState('');\n  const {\n    data,\n    queryDoc,\n    isLastPage\n  } = products;\n  useEffect(() => {\n    dispatch(fetchProductsStart());\n  }, []);\n\n  const toggleModal = () => setHideModal(!hideModal);\n\n  const configModal = {\n    hideModal,\n    toggleModal\n  };\n\n  const resetForm = () => {\n    setHideModal(true);\n    setProductCategory('Horror');\n    setProductName('');\n    setProductThumbnail('');\n    setProductPrice(0);\n    setProductTime(0);\n    setProductAge(0);\n    setProductRating(1);\n    setProductDate('');\n    setProductHall('');\n    setProductDesc('');\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(addProductStart({\n      productCategory,\n      productName,\n      productThumbnail,\n      productPrice,\n      productTime,\n      productAge,\n      productRating,\n      productDate,\n      productHall,\n      productDesc\n    }));\n    resetForm();\n  };\n\n  const handleLoadMore = () => {\n    dispatch(fetchProductsStart({\n      startAfterDoc: queryDoc,\n      persistProducts: data\n    }));\n  };\n\n  const configLoadMore = {\n    onLoadMoreEvt: handleLoadMore\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"callToActions\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => toggleModal(),\n            children: \"Add New Movie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, { ...configModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addNewProductForm\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Add new movie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n            label: \"Category\",\n            options: [{\n              value: \"horror\",\n              name: \"Horror\"\n            }, {\n              value: \"comedy\",\n              name: \"Comedy\"\n            }, {\n              value: \"action\",\n              name: \"Action\"\n            }, {\n              value: \"drama\",\n              name: \"Drama\"\n            }],\n            handleChange: e => setProductCategory(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Name\",\n            type: \"text\",\n            value: productName,\n            handleChange: e => setProductName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Main image URL\",\n            type: \"url\",\n            value: productThumbnail,\n            handleChange: e => setProductThumbnail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Price\",\n            type: \"number\",\n            min: \"0.00\",\n            max: \"10000.00\",\n            step: \"0.01\",\n            value: productPrice,\n            handleChange: e => setProductPrice(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Age\",\n            type: \"number\",\n            min: \"0\",\n            max: \"100\",\n            step: \"1\",\n            value: productAge,\n            handleChange: e => setProductAge(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Time\",\n            type: \"Time\",\n            value: productTime,\n            handleChange: e => setProductTime(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Date\",\n            type: \"date\",\n            value: productDate,\n            handleChange: e => setProductDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Rating\",\n            type: \"number\",\n            min: \"1.0\",\n            max: \"5.0\",\n            step: \"0.5\",\n            value: productRating,\n            handleChange: e => setProductRating(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Hall\",\n            type: \"number\",\n            min: \"1\",\n            max: \"8\",\n            step: \"1\",\n            value: productHall,\n            handleChange: e => setProductHall(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CKEditor, {\n            onChange: evt => setProductDesc(evt.editor.getData())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            children: \"Add Movie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"manageProducts\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        border: \"0\",\n        cellPadding: \"0\",\n        cellSpacing: \"0\",\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"th\", {\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Manage Movies\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"results\",\n                border: \"0\",\n                cellPadding: \"10\",\n                cellSpacing: \"0\",\n                children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: Array.isArray(data) && data.length > 0 && data.map((product, index) => {\n                    const {\n                      productName,\n                      productThumbnail,\n                      productPrice,\n                      productTime,\n                      documentID\n                    } = product;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          className: \"thumb\",\n                          src: productThumbnail\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 243,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 242,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: productName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 245,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [productPrice, \"\\u20AA\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 248,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: productTime\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 251,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          onClick: () => dispatch(deleteProductStart(documentID)),\n                          children: \"Delete\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 255,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 254,\n                        columnNumber: 27\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 25\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                border: \"0\",\n                cellPadding: \"10\",\n                cellSpacing: \"0\",\n                children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: !isLastPage && /*#__PURE__*/_jsxDEV(LoadMore, { ...configLoadMore\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 278,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Admin, \"ysG/oCimG3Hk184feb+A3+atR0E=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Admin;\nexport default Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"sources":["/Users/macbook/Downloads/NewCinema/src/pages/Admin/index.js"],"names":["React","useState","useEffect","useDispatch","useSelector","addProductStart","fetchProductsStart","deleteProductStart","Modal","FormInput","FormSelect","Button","LoadMore","CKEditor","mapState","productsData","products","Admin","props","dispatch","hideModal","setHideModal","productCategory","setProductCategory","productName","setProductName","productThumbnail","setProductThumbnail","productPrice","setProductPrice","productTime","setProductTime","productAge","setProductAge","productRating","setProductRating","productDate","setProductDate","productHall","setProductHall","productDesc","setProductDesc","data","queryDoc","isLastPage","toggleModal","configModal","resetForm","handleSubmit","e","preventDefault","handleLoadMore","startAfterDoc","persistProducts","configLoadMore","onLoadMoreEvt","value","name","target","evt","editor","getData","Array","isArray","length","map","product","index","documentID"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addProductStart, fetchProductsStart, deleteProductStart } from './../../redux/Products/products.actions';\nimport Modal from './../../components/Modal';\nimport FormInput from './../../components/forms/FormInput';\nimport FormSelect from './../../components/forms/FormSelect';\nimport Button from './../../components/forms/Button';\nimport LoadMore from './../../components/LoadMore';\nimport CKEditor from 'ckeditor4-react';\nimport './styles.scss';\n\nconst mapState = ({ productsData }) => ({\n  products: productsData.products\n});\n\nconst Admin = props => {\n  const { products } = useSelector(mapState);\n  const dispatch = useDispatch();\n  const [hideModal, setHideModal] = useState(true);\n  const [productCategory, setProductCategory] = useState('Horror');\n  const [productName, setProductName] = useState('');\n  const [productThumbnail, setProductThumbnail] = useState('');\n  const [productPrice, setProductPrice] = useState(0);\n  const [productTime, setProductTime] = useState(0);\n  const [productAge, setProductAge] = useState(0);\n  const [productRating, setProductRating] = useState(0);\n  const [productDate, setProductDate] = useState(0);\n  const [productHall, setProductHall] = useState(0);\n  const [productDesc, setProductDesc] = useState('');\n\n  const { data, queryDoc, isLastPage } = products;\n\n  useEffect(() => {\n    dispatch(\n      fetchProductsStart()\n    );\n  }, []);\n\n  const toggleModal = () => setHideModal(!hideModal);\n\n  const configModal = {\n    hideModal,\n    toggleModal\n  };\n\n  const resetForm = () => {\n    setHideModal(true);\n    setProductCategory('Horror');\n    setProductName('');\n    setProductThumbnail('');\n    setProductPrice(0);\n    setProductTime(0);\n    setProductAge(0);\n    setProductRating(1)\n    setProductDate('');\n    setProductHall('')\n    setProductDesc('');\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    dispatch(\n      addProductStart({\n        productCategory,\n        productName,\n        productThumbnail,\n        productPrice,\n        productTime,\n        productAge,\n        productRating,\n        productDate,\n        productHall,\n        productDesc,\n      })\n    );\n    resetForm();\n\n  };\n\n  const handleLoadMore = () => {\n    dispatch(\n      fetchProductsStart({\n        startAfterDoc: queryDoc,\n        persistProducts: data\n      })\n    );\n  };\n\n  const configLoadMore = {\n    onLoadMoreEvt: handleLoadMore,\n  };\n\n  return (\n    <div className=\"admin\">\n\n      <div className=\"callToActions\">\n        <ul>\n          <li>\n            <Button onClick={() => toggleModal()}>\n              Add New Movie\n            </Button>\n          </li>\n        </ul>\n      </div>\n\n      <Modal {...configModal}>\n        <div className=\"addNewProductForm\">\n          <form onSubmit={handleSubmit}>\n\n            <h2>\n              Add new movie\n            </h2>\n\n            <FormSelect\n              label=\"Category\"\n              options={[{\n                value: \"horror\",\n                name: \"Horror\"\n              }, {\n                value: \"comedy\",\n                name: \"Comedy\"\n              }, {\n                value: \"action\",\n                name: \"Action\"\n              }, {\n                value: \"drama\",\n                name: \"Drama\"\n              }]}\n              handleChange={e => setProductCategory(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Name\"\n              type=\"text\"\n              value={productName}\n              handleChange={e => setProductName(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Main image URL\"\n              type=\"url\"\n              value={productThumbnail}\n              handleChange={e => setProductThumbnail(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Price\"\n              type=\"number\"\n              min=\"0.00\"\n              max=\"10000.00\"\n              step=\"0.01\"\n              value={productPrice}\n              handleChange={e => setProductPrice(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Age\"\n              type=\"number\"\n              min=\"0\"\n              max=\"100\"\n              step=\"1\"\n              value={productAge}\n              handleChange={e => setProductAge(e.target.value)}\n            />\n\n\n              <FormInput\n              label=\"Time\"\n              type=\"Time\"\n              value={productTime}\n              handleChange={e => setProductTime(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Date\"\n              type=\"date\"\n              value={productDate}\n              handleChange={e => setProductDate(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Rating\"\n              type=\"number\"\n              min=\"1.0\"\n              max=\"5.0\"\n              step=\"0.5\"\n              value={productRating}\n              handleChange={e => setProductRating(e.target.value)}\n            />\n\n            <FormInput\n              label=\"Hall\"\n              type=\"number\"\n              min=\"1\"\n              max=\"8\"\n              step=\"1\"\n              value={productHall}\n              handleChange={e => setProductHall(e.target.value)}\n            />\n\n            <CKEditor\n              onChange={evt => setProductDesc(evt.editor.getData())}\n            />\n\n            <br />\n\n            <Button type=\"submit\">\n              Add Movie\n            </Button>\n\n          </form>\n        </div>\n      </Modal>\n\n      <div className=\"manageProducts\">\n\n        <table border=\"0\" cellPadding=\"0\" cellSpacing=\"0\">\n          <tbody>\n            <tr>\n              <th>\n                <h1>\n                  Manage Movies\n                </h1>\n              </th>\n            </tr>\n            <tr>\n              <td>\n                <table className=\"results\" border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\n                  <tbody>\n                    {(Array.isArray(data) && data.length > 0) && data.map((product, index) => {\n                      const {\n                        productName,\n                        productThumbnail,\n                        productPrice,\n                        productTime,\n                        documentID\n                      } = product;\n\n                      return (\n                        <tr key={index}>\n                          <td>\n                            <img className=\"thumb\" src={productThumbnail} />\n                          </td>\n                          <td>\n                            {productName}\n                          </td>\n                          <td>\n                            {productPrice}â‚ª\n                          </td>\n                          <td>\n                            {productTime}\n                          </td>\n                          <td>\n                            <Button onClick={() => dispatch(deleteProductStart(documentID))}>\n                              Delete\n                            </Button>\n                          </td>\n                        </tr>\n                      )\n                    })}\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n            <tr>\n              <td>\n\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <table border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\n                  <tbody>\n                    <tr>\n                      <td>\n                        {!isLastPage && (\n                          <LoadMore {...configLoadMore} />\n                        )}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n      </div>\n\n    </div>\n  );\n}\n\nexport default Admin;"]},"metadata":{},"sourceType":"module"}