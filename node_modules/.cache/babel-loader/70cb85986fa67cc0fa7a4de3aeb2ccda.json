{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/macbook/Downloads/NewCinema/src/components/ProductResults/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { fetchProductsStart } from './../../redux/Products/products.actions';\nimport Product from './Product';\nimport FormSelect from './../forms/FormSelect';\nimport LoadMore from './../LoadMore';\nimport './styles.scss';\n\nconst mapState = ({\n  productsData\n}) => ({\n  products: productsData.products\n});\n\nconst ProductResults = ({}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    filterType\n  } = useParams();\n  const {\n    products\n  } = useSelector(mapState);\n  const {\n    data,\n    queryDoc,\n    isLastPage\n  } = products;\n  useEffect(() => {\n    dispatch(fetchProductsStart({\n      filterType\n    }));\n  }, [filterType]);\n\n  const handleFilter = e => {\n    const nextFilter = e.target.value;\n    history.push(`/search/${nextFilter}`);\n  };\n\n  if (!Array.isArray(data)) return null;\n\n  if (data.length < 1) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No search results.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n\n  const configFilters = {\n    defaultValue: filterType,\n    options: [{\n      name: 'Show all',\n      value: ''\n    }, {\n      name: 'Horror',\n      value: 'horror'\n    }, {\n      name: 'Comedy',\n      value: 'comedy'\n    }, {\n      name: 'Action',\n      value: 'action'\n    }, {\n      name: 'Drama',\n      value: 'drama'\n    } // , {\n    //   value: \"rating\",\n    //   name: \"Rating\"\n    // }, {\n    //   value: \"PriceIncrease\",\n    //   name: \"Price Low To High\"\n    // }, {\n    //   value: \"PriceDecrease\",\n    //   name: \"Price High To Low\"\n    // }\n    ],\n    handleChange: handleFilter\n  };\n\n  const handleLoadMore = () => {\n    dispatch(fetchProductsStart({\n      filterType,\n      startAfterDoc: queryDoc,\n      persistProducts: data\n    }));\n  };\n\n  const configLoadMore = {\n    onLoadMoreEvt: handleLoadMore\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"products\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Browse Movies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormSelect, { ...configFilters\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productResults\",\n      children: data.map((product, pos) => {\n        const {\n          productThumbnail,\n          productName,\n          productPrice,\n          productTime\n        } = product;\n        if (!productThumbnail || !productName || typeof productPrice === 'undefined') return null;\n        const configProduct = { ...product\n        };\n        return /*#__PURE__*/_jsxDEV(Product, { ...configProduct\n        }, pos, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), !isLastPage && /*#__PURE__*/_jsxDEV(LoadMore, { ...configLoadMore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductResults, \"ZPpdS22VCwV4LGYudbqgR9C3XEI=\", false, function () {\n  return [useDispatch, useHistory, useParams, useSelector];\n});\n\n_c = ProductResults;\nexport default ProductResults;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductResults\");","map":{"version":3,"sources":["/Users/macbook/Downloads/NewCinema/src/components/ProductResults/index.js"],"names":["React","useEffect","useDispatch","useSelector","useHistory","useParams","fetchProductsStart","Product","FormSelect","LoadMore","mapState","productsData","products","ProductResults","dispatch","history","filterType","data","queryDoc","isLastPage","handleFilter","e","nextFilter","target","value","push","Array","isArray","length","configFilters","defaultValue","options","name","handleChange","handleLoadMore","startAfterDoc","persistProducts","configLoadMore","onLoadMoreEvt","map","product","pos","productThumbnail","productName","productPrice","productTime","configProduct"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { fetchProductsStart } from './../../redux/Products/products.actions';\nimport Product from './Product';\nimport FormSelect from './../forms/FormSelect';\nimport LoadMore from './../LoadMore';\nimport './styles.scss';\n\nconst mapState = ({ productsData }) => ({\n  products: productsData.products\n});\n\nconst ProductResults = ({ }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { filterType } = useParams();\n  const { products } = useSelector(mapState);\n\n  const { data, queryDoc, isLastPage } = products;\n\n  useEffect(() => {\n    dispatch(\n      fetchProductsStart({ filterType })\n    )\n  }, [filterType]);\n\n  const handleFilter = (e) => {\n    const nextFilter = e.target.value;\n    history.push(`/search/${nextFilter}`);\n  };\n\n  if (!Array.isArray(data)) return null;\n  if (data.length < 1) {\n    return (\n      <div className=\"products\">\n        <p>\n          No search results.\n        </p>\n      </div>\n    );\n  }\n\n  const configFilters = {\n    defaultValue: filterType,\n    options: [{\n      name: 'Show all',\n      value: ''\n    }, {\n      name: 'Horror',\n      value: 'horror'\n    }, {\n      name: 'Comedy',\n      value: 'comedy'\n    }, {\n      name: 'Action',\n      value: 'action'\n    }, {\n      name: 'Drama',\n      value: 'drama'\n    }\n    // , {\n    //   value: \"rating\",\n    //   name: \"Rating\"\n    // }, {\n    //   value: \"PriceIncrease\",\n    //   name: \"Price Low To High\"\n    // }, {\n    //   value: \"PriceDecrease\",\n    //   name: \"Price High To Low\"\n    // }\n  ],\n    handleChange: handleFilter\n  };\n\n  \n\n  const handleLoadMore = () => {\n    dispatch(\n      fetchProductsStart({\n        filterType,\n        startAfterDoc: queryDoc,\n        persistProducts: data\n      })\n    )\n  };\n\n  const configLoadMore = {\n    onLoadMoreEvt: handleLoadMore,\n  };\n\n  return (\n    <div className=\"products\">\n\n      <h1>\n        Browse Movies\n      </h1>\n\n      <FormSelect {...configFilters} />\n\n      <div className=\"productResults\">\n        {data.map((product, pos) => {\n          const { productThumbnail, productName, productPrice, productTime } = product;\n          if (!productThumbnail || !productName ||\n            typeof productPrice === 'undefined') return null;\n\n          const configProduct = {\n            ...product\n          };\n\n          return (\n            <Product key={pos} {...configProduct} />\n          );\n        })}\n      </div>\n\n      {!isLastPage && (\n        <LoadMore {...configLoadMore} />\n      )}\n\n    </div>\n  );\n};\n\nexport default ProductResults;\n"]},"metadata":{},"sourceType":"module"}